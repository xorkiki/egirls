{"ast":null,"code":"import React,{useState,useRef}from'react';import{motion,AnimatePresence}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CardStack=_ref=>{let{photos,onSwipeComplete}=_ref;const[currentIndex,setCurrentIndex]=useState(0);const[exitX,setExitX]=useState(0);const[isAnimating,setIsAnimating]=useState(false);const constraintsRef=useRef(null);// Handle drag end - determine if card should be swiped away\nconst handleDragEnd=(event,info)=>{const threshold=100;// Minimum distance to trigger swipe\nconst velocity=info.velocity.x;const offset=info.offset.x;// Determine if swipe should be triggered based on distance or velocity\nif(Math.abs(offset)>threshold||Math.abs(velocity)>500){const direction=offset>0?1:-1;// 1 for right, -1 for left\nsetExitX(direction*1000);// Move card off screen\nsetIsAnimating(true);// Call completion callback after animation\nsetTimeout(()=>{setCurrentIndex(prev=>(prev+1)%photos.length);setExitX(0);setIsAnimating(false);if(onSwipeComplete){onSwipeComplete(direction);}},300);}};// Get visible cards (top 3-4 cards in stack)\nconst getVisibleCards=()=>{const visibleCount=Math.min(4,photos.length);const cards=[];for(let i=0;i<visibleCount;i++){const index=(currentIndex+i)%photos.length;const isTop=i===0;const stackOffset=i;cards.push({index,photo:photos[index],isTop,stackOffset,zIndex:1000-stackOffset,scale:1-stackOffset*0.05,// Slight scale down for depth\nrotation:isTop?0:(Math.random()-0.5)*10,// Random rotation for stack effect\noffsetX:isTop?0:(Math.random()-0.5)*20,// Random horizontal offset\noffsetY:isTop?0:(Math.random()-0.5)*15,// Random vertical offset\nopacity:isTop?1:0.9-stackOffset*0.1});}return cards;};const visibleCards=getVisibleCards();return/*#__PURE__*/_jsxs(\"div\",{ref:constraintsRef,className:\"card-stack-container\",style:{position:'relative',width:'100%',height:'100%',display:'flex',alignItems:'center',justifyContent:'center',overflow:'hidden',touchAction:'pan-x'},children:[/*#__PURE__*/_jsx(AnimatePresence,{children:visibleCards.map(card=>/*#__PURE__*/_jsx(motion.div,{// Force re-render when currentIndex changes\nclassName:\"card\",style:{position:'absolute',width:'280px',height:'350px',zIndex:card.zIndex,cursor:card.isTop?'grab':'default'},initial:{x:card.offsetX,y:card.offsetY,scale:card.scale,rotate:card.rotation,opacity:card.opacity},animate:{x:card.isTop?0:card.offsetX,y:card.isTop?0:card.offsetY,scale:card.scale,rotate:card.isTop?0:card.rotation,opacity:card.opacity},exit:{x:exitX,rotate:exitX>0?30:-30,opacity:0,scale:0.8},transition:{type:\"spring\",stiffness:300,damping:30,duration:0.3},drag:card.isTop&&!isAnimating,dragConstraints:constraintsRef,dragElastic:0.2,dragMomentum:false,onDragEnd:card.isTop?handleDragEnd:undefined,whileDrag:{scale:1.05,rotate:0,zIndex:1001},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100%',borderRadius:'12px',overflow:'hidden',boxShadow:'0 8px 32px rgba(0, 0, 0, 0.3)',backgroundColor:'#1a1a1a'},children:/*#__PURE__*/_jsx(\"img\",{src:card.photo,alt:\"Brand asset \".concat(card.index+1),style:{width:'100%',height:'100%',objectFit:'cover',display:'block'},draggable:false,onError:e=>{console.error('Failed to load image:',card.photo);e.target.style.opacity='0.5';}})})},\"\".concat(card.index,\"-\").concat(currentIndex)))}),/*#__PURE__*/_jsx(\"div\",{className:\"swipe-indicators\",style:{position:'absolute',top:'20px',left:'50%',transform:'translateX(-50%)',display:'flex',gap:'10px',zIndex:1002},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px 16px',backgroundColor:'rgba(0, 0, 0, 0.7)',borderRadius:'20px',color:'white',fontSize:'12px',fontFamily:'Courier New, monospace'},children:[currentIndex+1,\" / \",photos.length]})})]});};export default CardStack;","map":{"version":3,"names":["React","useState","useRef","motion","AnimatePresence","jsx","_jsx","jsxs","_jsxs","CardStack","_ref","photos","onSwipeComplete","currentIndex","setCurrentIndex","exitX","setExitX","isAnimating","setIsAnimating","constraintsRef","handleDragEnd","event","info","threshold","velocity","x","offset","Math","abs","direction","setTimeout","prev","length","getVisibleCards","visibleCount","min","cards","i","index","isTop","stackOffset","push","photo","zIndex","scale","rotation","random","offsetX","offsetY","opacity","visibleCards","ref","className","style","position","width","height","display","alignItems","justifyContent","overflow","touchAction","children","map","card","div","cursor","initial","y","rotate","animate","exit","transition","type","stiffness","damping","duration","drag","dragConstraints","dragElastic","dragMomentum","onDragEnd","undefined","whileDrag","borderRadius","boxShadow","backgroundColor","src","alt","concat","objectFit","draggable","onError","e","console","error","target","top","left","transform","gap","padding","color","fontSize","fontFamily"],"sources":["/Users/kiki/Desktop/egirls/cursor-projects/egirls-website/src/components/CardStack.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst CardStack = ({ photos, onSwipeComplete }) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [exitX, setExitX] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const constraintsRef = useRef(null);\n\n  // Handle drag end - determine if card should be swiped away\n  const handleDragEnd = (event, info) => {\n    const threshold = 100; // Minimum distance to trigger swipe\n    const velocity = info.velocity.x;\n    const offset = info.offset.x;\n\n    // Determine if swipe should be triggered based on distance or velocity\n    if (Math.abs(offset) > threshold || Math.abs(velocity) > 500) {\n      const direction = offset > 0 ? 1 : -1; // 1 for right, -1 for left\n      setExitX(direction * 1000); // Move card off screen\n      setIsAnimating(true);\n      \n      // Call completion callback after animation\n      setTimeout(() => {\n        setCurrentIndex((prev) => (prev + 1) % photos.length);\n        setExitX(0);\n        setIsAnimating(false);\n        if (onSwipeComplete) {\n          onSwipeComplete(direction);\n        }\n      }, 300);\n    }\n  };\n\n  // Get visible cards (top 3-4 cards in stack)\n  const getVisibleCards = () => {\n    const visibleCount = Math.min(4, photos.length);\n    const cards = [];\n    \n    for (let i = 0; i < visibleCount; i++) {\n      const index = (currentIndex + i) % photos.length;\n      const isTop = i === 0;\n      const stackOffset = i;\n      \n      cards.push({\n        index,\n        photo: photos[index],\n        isTop,\n        stackOffset,\n        zIndex: 1000 - stackOffset,\n        scale: 1 - (stackOffset * 0.05), // Slight scale down for depth\n        rotation: isTop ? 0 : (Math.random() - 0.5) * 10, // Random rotation for stack effect\n        offsetX: isTop ? 0 : (Math.random() - 0.5) * 20, // Random horizontal offset\n        offsetY: isTop ? 0 : (Math.random() - 0.5) * 15, // Random vertical offset\n        opacity: isTop ? 1 : 0.9 - (stackOffset * 0.1)\n      });\n    }\n    \n    return cards;\n  };\n\n  const visibleCards = getVisibleCards();\n\n  return (\n    <div \n      ref={constraintsRef}\n      className=\"card-stack-container\"\n      style={{\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        overflow: 'hidden',\n        touchAction: 'pan-x'\n      }}\n    >\n      <AnimatePresence>\n        {visibleCards.map((card) => (\n          <motion.div\n            key={`${card.index}-${currentIndex}`} // Force re-render when currentIndex changes\n            className=\"card\"\n            style={{\n              position: 'absolute',\n              width: '280px',\n              height: '350px',\n              zIndex: card.zIndex,\n              cursor: card.isTop ? 'grab' : 'default'\n            }}\n            initial={{\n              x: card.offsetX,\n              y: card.offsetY,\n              scale: card.scale,\n              rotate: card.rotation,\n              opacity: card.opacity\n            }}\n            animate={{\n              x: card.isTop ? 0 : card.offsetX,\n              y: card.isTop ? 0 : card.offsetY,\n              scale: card.scale,\n              rotate: card.isTop ? 0 : card.rotation,\n              opacity: card.opacity\n            }}\n            exit={{\n              x: exitX,\n              rotate: exitX > 0 ? 30 : -30,\n              opacity: 0,\n              scale: 0.8\n            }}\n            transition={{\n              type: \"spring\",\n              stiffness: 300,\n              damping: 30,\n              duration: 0.3\n            }}\n            drag={card.isTop && !isAnimating}\n            dragConstraints={constraintsRef}\n            dragElastic={0.2}\n            dragMomentum={false}\n            onDragEnd={card.isTop ? handleDragEnd : undefined}\n            whileDrag={{\n              scale: 1.05,\n              rotate: 0,\n              zIndex: 1001\n            }}\n          >\n            <div\n              style={{\n                width: '100%',\n                height: '100%',\n                borderRadius: '12px',\n                overflow: 'hidden',\n                boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',\n                backgroundColor: '#1a1a1a'\n              }}\n            >\n              <img\n                src={card.photo}\n                alt={`Brand asset ${card.index + 1}`}\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  objectFit: 'cover',\n                  display: 'block'\n                }}\n                draggable={false}\n                onError={(e) => {\n                  console.error('Failed to load image:', card.photo);\n                  e.target.style.opacity = '0.5';\n                }}\n              />\n            </div>\n          </motion.div>\n        ))}\n      </AnimatePresence>\n      \n      {/* Swipe indicators */}\n      <div className=\"swipe-indicators\" style={{\n        position: 'absolute',\n        top: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        display: 'flex',\n        gap: '10px',\n        zIndex: 1002\n      }}>\n        <div style={{\n          padding: '8px 16px',\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\n          borderRadius: '20px',\n          color: 'white',\n          fontSize: '12px',\n          fontFamily: 'Courier New, monospace'\n        }}>\n          {currentIndex + 1} / {photos.length}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardStack;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}